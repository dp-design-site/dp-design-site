<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ü—Ä–æ–¥—É–∫—Ç | DP Design</title>
  <link rel="stylesheet" href="styles/product-template.css" />
</head>
<body onload="loadComponents()">
  <div id="header"></div>

  <main class="product-container">
    <div class="product-image">
      <span class="promo-badge" style="display: none;">–ü–†–û–ú–û</span>
      <div class="slider" id="product-slider"></div>
      <div class="thumbnails" id="product-thumbnails"></div>
    </div>
    <div class="product-details">
      <h1 id="product-name">–ò–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞</h1>
      <p id="product-description">–û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.</p>
      <p><span class="price-label">–¶–µ–Ω–∞:</span> <span id="product-price">-- –ª–≤.</span></p>
      <p class="old-price-container" style="display: none;"><span class="price-label">–°—Ç–∞—Ä–∞ —Ü–µ–Ω–∞:</span> <del id="product-old-price"></del></p>
      <div id="product-action-buttons"></div>
    </div>
  </main>

  <section id="rating-section" class="rating-block">
  <h3>–û—Ü–µ–Ω–∫–∏ –∏ –æ—Ç–∑–∏–≤–∏</h3>

  <div id="rating-summary">
    <div class="stars" id="average-stars"></div>
    <p><span id="average-score">0</span> –æ—Ç <span id="total-votes">0</span> –≥–ª–∞—Å–∞</p>
  </div>

  <div id="reviews-container"></div>

  <div id="submit-rating">
    <h4>–û—Ü–µ–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∞</h4>
      <div id="rating-form" class="rating-form">
        <div id="rating-stars" class="stars"></div>
        <input type="email" id="rating-email" placeholder="–¢–≤–æ—è—Ç –∏–º–µ–π–ª" required />
        <textarea id="rating-comment" placeholder="–ö–æ–º–µ–Ω—Ç–∞—Ä (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)"></textarea>
        <button id="submit-rating">–ò–∑–ø—Ä–∞—Ç–∏</button>
      </div>
</section>


 <!-- –§—É–ª—Å–∫—Ä–∏–π–Ω –≥–∞–ª–µ—Ä–∏—è -->
  <div id="fullscreen-modal" class="fullscreen-modal" style="display: none;">
    <span class="fullscreen-close">‚úñ</span>
    <img id="fullscreen-image" class="fullscreen-image" src="" alt="–ì–æ–ª—è–º–∞ —Å–Ω–∏–º–∫–∞" />
    <div class="fullscreen-nav left">‚óÄ</div>
    <div class="fullscreen-nav right">‚ñ∂</div>
    <div class="fullscreen-overlay"></div>
  </div>
  
  <div id="footer"></div>

  <script>
    // üí´ –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ drag/swipe –ø–æ–¥–¥—Ä—ä–∂–∫–∞
    function addSwipeEvents(container, onSwipeLeft, onSwipeRight) {
      let startX = 0;
      container.addEventListener("touchstart", (e) => {
        startX = e.touches[0].clientX;
      });
      container.addEventListener("touchend", (e) => {
        const endX = e.changedTouches[0].clientX;
        if (startX - endX > 50) onSwipeLeft();
        else if (endX - startX > 50) onSwipeRight();
      });

      let dragStartX = 0;
      container.addEventListener("mousedown", (e) => {
        dragStartX = e.clientX;
      });
      container.addEventListener("mouseup", (e) => {
        const dragEndX = e.clientX;
        if (dragStartX - dragEndX > 50) onSwipeLeft();
        else if (dragEndX - dragStartX > 50) onSwipeRight();
      });
    }

    window.addEventListener("load", () => {
      const slider = document.getElementById("product-slider");
      const thumbs = document.getElementById("product-thumbnails");
      const modal = document.getElementById("fullscreen-modal");
      const img = document.getElementById("fullscreen-image");

      addSwipeEvents(slider, () => navigateSlide(1, slider, thumbs), () => navigateSlide(-1, slider, thumbs));
      addSwipeEvents(modal, () => navigateFullscreen(1), () => navigateFullscreen(-1));
    });
  </script>


  <script src="scripts/product-template.js"></script>
</body>
</html>
